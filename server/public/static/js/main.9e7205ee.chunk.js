(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{106:function(e,t,a){},111:function(e,t,a){},115:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(30),s=a.n(l),c=(a(86),a(87),a(6)),o=a(7),i=a(9),u=a(8),m=a(10),h=(a(88),a(36)),d=a(12),p=a(18),g=a(3),E=a(14),f=a(49),b=a(33),v=a.n(b),U=function e(){var t=this;Object(c.a)(this,e),this.getIngredients=function(e){return t.service.get("app_id=".concat("dda53898","&app_key=").concat("63b991cffe5972edb352af4edd5a521c","&q=").concat(e)).then((function(e){return e.data}))},this.service=v.a.create({baseURL:"https://test-es.edamam.com/search?",withCredentials:!0}),this.api_id="dda53898",this.api_key="63b991cffe5972edb352af4edd5a521c"},j=a(16),O=a(13),C=function e(){var t=this;Object(c.a)(this,e),this.preferencesUser=function(e){return t.service.post("/",e).then((function(e){return e.data}))},this.sendRecipes=function(e){return t.service.post("/fav",e).then((function(e){return e.data}))},this.sendMenu=function(e,a){return t.service.post("/menu",{deilyMeals:e,clientId:a}).then((function(e){return e.data}))},this.getMenu=function(){return t.service.get("/my-menu").then((function(e){return e.data}))},this.service=v.a.create({baseURL:"".concat("https://nutrihealth.herokuapp.com/api","/profile"),withCredentials:!0})},I=(a(106),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).sendRecipes=function(){a.sendservices.sendRecipes(a.state.recipe).then((function(e){console.log(a.props),console.log(e)})).catch((function(e){return console.log(e)}))},a.state={recipe:a.props.recipe},a.sendservices=new C,a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(j.a,null,r.a.createElement(O.a,{className:"mb-3",style:{width:"28rem"}},r.a.createElement(O.a.Body,null,r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement(O.a.Img,{className:"cardImg",src:this.props.recipe.image}),r.a.createElement(O.a.Title,{className:"ml-3"},this.props.recipe.label)),r.a.createElement(O.a.Text,{as:"div",className:"mt-3"},r.a.createElement("ul",null,this.props.recipe.ingredientLines.map((function(e){return r.a.createElement("li",null,e)})))),r.a.createElement("div",{className:"d-flex justify-content-around"},r.a.createElement(E.a,{className:"greenButton",as:"div",variant:"light"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.props.recipe.url},"M\xe1s detalles")),r.a.createElement(E.a,{className:"greenButton",variant:"light",type:"submit",onClick:this.sendRecipes},"Guarda en favoritos"))),r.a.createElement(O.a.Footer,null,r.a.createElement("small",{className:"text-muted"},this.props.recipe.dietLabels))))}}]),t}(n.Component)),y=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).getIngredients=function(t){e.recipeservices.getIngredients(t).then((function(t){return e.setState({recipes:t.hits})})).catch((function(e){return console.log(e)}))},e.componentDidUpdate=function(t){e.state},e.handleChange=function(t){var a=t.target.value;e.setState({ingredients:a})},e.handleSubmit=function(t){t.preventDefault(),e.getIngredients(e.state.ingredients)},e.sendInfo=function(){return e.setState({showIng:!0})},e.state={ingredients:"",recipes:[],showIng:!1},e.recipeservices=new U,e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("h1",null,"Buscador de recetas"),r.a.createElement(g.a,{onSubmit:this.handleSubmit},r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Escribe los ingredientes que tengas en la nevera"),r.a.createElement(g.a.Control,{type:"text",name:"ingredients",placeholder:"Escribe los ingredientes separados por comas",value:this.state.ingredients,onChange:this.handleChange})),r.a.createElement(E.a,{className:"greenButton",variant:"light",type:"submit",onClick:this.sendInfo},"A cocinar!"),r.a.createElement("br",null)),r.a.createElement("div",null,this.state.showIng?this.state.recipes.length?r.a.createElement(p.a,{className:"m-5"},this.state.recipes.map((function(e){return r.a.createElement(I,Object.assign({key:e.recipe.label},e))}))):r.a.createElement(f.a,{className:"spiner",animation:"border"}):null))}}]),t}(n.Component),k=a(27),T=a(38),w=function e(){var t=this;Object(c.a)(this,e),this.signup=function(e){var a=e.user,n=e.role;return t.service.post("/signup",{user:a,role:n}).then((function(e){return e.data}))},this.login=function(e){var a=e.username,n=e.password;return t.service.post("/login",{username:a,password:n}).then((function(e){return e.data}))},this.logout=function(){return t.service.post("/logout").then((function(e){return e.data}))},this.loggedin=function(){return t.service.get("/loggedin").then((function(e){return e.data}))},this.service=v.a.create({baseURL:"".concat("https://nutrihealth.herokuapp.com/api","/auth"),withCredentials:!0})},N=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(T.a)({},a.state,{user:Object(T.a)({},a.state.user,Object(k.a)({},n,r)),role:e.target.checked}))},a.postUser=function(){a.services.signup(a.state).then((function(e){a.setState({user:{username:"",password:"",email:""},role:!1},a.props.setTheUser(e)),a.props.history.push("/profile")})).catch((function(e){return console.log({err:e})}))},a.handleSubmit=function(e){e.preventDefault(),a.postUser()},a.state={user:{username:"",password:"",email:""},role:!1},a.services=new w,a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("br",null),r.a.createElement(g.a,{onSubmit:this.handleSubmit},r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Usuario"),r.a.createElement(g.a.Control,{type:"text",name:"username",value:this.state.user.username,onChange:this.handleChange})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Contrase\xf1a"),r.a.createElement(g.a.Control,{type:"password",name:"password",value:this.state.user.password,onChange:this.handleChange})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Correo Electr\xf3nico"),r.a.createElement(g.a.Control,{type:"email",name:"email",value:this.state.user.email,onChange:this.handleChange})),r.a.createElement(g.a.Group,{controlId:"formBasicCheckbox"},r.a.createElement(g.a.Check,{type:"checkbox",label:"Soy nutricionista",onChange:this.handleChange})),r.a.createElement(E.a,{className:"greenButton",variant:"light",type:"submit"},"Registrarse")))}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(k.a)({},n,r))},a.postUser=function(){a.authservices.login(a.state).then((function(e){a.setState({username:"",password:""}),a.props.setTheUser(e),a.props.history.push("/")})).catch((function(e){return console.log({err:e})}))},a.handleSubmit=function(e){e.preventDefault(),a.postUser()},a.state={username:"",password:""},a.authservices=new w,a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("br",null),r.a.createElement(g.a,{onSubmit:this.handleSubmit},r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Usuario"),r.a.createElement(g.a.Control,{type:"text",name:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Contrase\xf1a"),r.a.createElement(g.a.Control,{type:"password",name:"password",value:this.state.password,onChange:this.handleChange})),r.a.createElement(E.a,{className:"greenButton",variant:"light",type:"submit"},"Iniciar sesi\xf3n")))}}]),t}(n.Component),L=a(62),S=a(80),x=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("h1",{className:"text-center"},"NutriHealth "),r.a.createElement(p.a,null,r.a.createElement(j.a,null,r.a.createElement("img",{src:"https://res.cloudinary.com/dkbpijai0/image/upload/v1584045702/heart_uymq6e.jpg",alt:"heart"})),r.a.createElement(j.a,null,r.a.createElement(S.a,{defaultActiveKey:"home",id:"noanim-tab-example"},r.a.createElement(L.a,{eventKey:"home",title:"Inicia sesi\xf3n"},r.a.createElement(M,{loggedInUser:this.props.loggedInUser,setTheUser:this.props.setTheUser})),r.a.createElement(L.a,{eventKey:"profile",title:"Registrate"},r.a.createElement(N,{loggedInUser:this.props.loggedInUser,setTheUser:this.props.setTheUser}))))))}}]),t}(n.Component),B=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onClick=function(){return a.props.history.push("/search-nutri")},a.onClick2=function(){return a.props.history.push("/my-menu")},a.state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(d.a,{className:"bgImage"},r.a.createElement("h1",null,"Hola, ",this.props.loggedInUser.username),r.a.createElement(p.a,null,"user"===this.props.loggedInUser.role?r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,null,r.a.createElement("p",null,"Puedes acceder a los nutricionistas disponibles desde aqu\xed:"),r.a.createElement(E.a,{className:"greenButton",as:"div",variant:"light",size:"sm",onClick:function(){return e.onClick()}},"Encuentra tu nutricionista")),r.a.createElement(j.a,null,r.a.createElement("p",null,"Puedes ver tu men\xfa semanal desde aqu\xed"),r.a.createElement(E.a,{className:"greenButton",as:"div",variant:"light",size:"sm",onClick:function(){return e.onClick2()}},"Consulta tu men\xfa semanal"))):r.a.createElement("p",null,"Revisa en tu perfil si tienes nuevas notificaciones")))}}]),t}(n.Component),G=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){return a.render()},a.state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(r.a.Fragment,null,this.props.loggedInUser?r.a.createElement(B,Object.assign({loggedInUser:this.props.loggedInUser,setTheUser:this.props.setTheUser},this.props)):r.a.createElement(x,Object.assign({loggedInUser:this.props.loggedInUser,setTheUser:this.props.setTheUser},this.props))))}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).finishAction=function(){return a.props.closeModal()},a.preferencesUser=function(e){a.sendtobackservices.preferencesUser(e).then((function(e){return a.props.setTheUser(e)})).catch((function(e){return console.log(e)}))},a.handleSubmit=function(e){e.preventDefault(),a.preferencesUser(a.state.userPreferences),a.finishAction()},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState({userPreferences:Object(T.a)({},a.state.userPreferences,Object(k.a)({},n,r))})},a.state={userPreferences:{height:a.props.loggedInUser.userfile?a.props.loggedInUser.userfile.height:"",weight:a.props.loggedInUser.userfile?a.props.loggedInUser.userfile.weight:"",age:a.props.loggedInUser.userfile?a.props.loggedInUser.userfile.age:"",activitylevel:a.props.loggedInUser.userfile?a.props.loggedInUser.userfile.activitylevel:"",goal:a.props.loggedInUser.userfile?a.props.loggedInUser.userfile.goal:"",city:a.props.loggedInUser.userfile?a.props.loggedInUser.userfile.city:"",intolerances:a.props.loggedInUser.userfile?a.props.loggedInUser.userfile.intolerances:"",foodPreferences:a.props.loggedInUser.userfile?a.props.loggedInUser.userfile.foodPreferences:""}},a.sendtobackservices=new C,a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state.userPreferences,t=e.height,a=e.weight,n=e.age,l=e.activitylevel,s=e.goal,c=e.city,o=e.intolerances,i=e.foodPreferences;return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null,r.a.createElement(g.a.Row,null,r.a.createElement(g.a,{onSubmit:this.handleSubmit},r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Tu altura"),r.a.createElement(g.a.Control,{type:"number",name:"height",placeholder:"Escribe tu altura en cm",value:t,onChange:this.handleChange,required:!0})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Tu peso"),r.a.createElement(g.a.Control,{type:"number",name:"weight",placeholder:"Tu peso",value:a,onChange:this.handleChange,required:!0})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Tu edad"),r.a.createElement(g.a.Control,{type:"number",name:"age",placeholder:"Tu edad",value:n,onChange:this.handleChange,required:!0})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Tu nivel de actividad"),r.a.createElement(g.a.Control,{as:"select",name:"activitylevel",value:l,onChange:this.handleChange,required:!0},r.a.createElement("option",null),r.a.createElement("option",null,"Deportista profesional"),r.a.createElement("option",null,"Alto"),r.a.createElement("option",null,"Medio"),r.a.createElement("option",null,"Bajo"),r.a.createElement("option",null,"Sedentario"))),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Tu objetivo"),r.a.createElement(g.a.Control,{as:"select",name:"goal",value:s,onChange:this.handleChange,required:!0},r.a.createElement("option",null),r.a.createElement("option",null,"Perder peso"),r.a.createElement("option",null,"Mantener peso"),r.a.createElement("option",null,"Ganar peso"))),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Ciudad"),r.a.createElement(g.a.Control,{type:"text",name:"city",placeholder:"Tu ciudad",value:c,onChange:this.handleChange,required:!0})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Intolerancias alimenticias"),r.a.createElement(g.a.Control,{as:"textarea",rows:"3",name:"intolerances",placeholder:"Tus intolerancias alimentarias, separadas por comas",value:o,onChange:this.handleChange,required:!0})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Preferencias alimentarias"),r.a.createElement(g.a.Control,{as:"textarea",rows:"3",name:"foodPreferences",placeholder:"Tus preferencias alimentarias, separadas por comas",value:i,onChange:this.handleChange,required:!0})),r.a.createElement(E.a,{className:"greenButton",variant:"light",type:"submit"},"Guardar preferencias"),r.a.createElement("br",null)))))}}]),t}(n.Component),A=a(43),P=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).closeModal=function(){return a.setState({showmodal:!1})},a.openModal=function(){return a.setState({showmodal:!0})},a.state={showmodal:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,this.props.loggedInUser.userfile?r.a.createElement(E.a,{className:"greenButton",variant:"light",onClick:this.openModal},"Modifica tus preferencias"):r.a.createElement(E.a,{className:"greenButton",variant:"light",onClick:this.openModal},"Introduce tus preferencias"),r.a.createElement(A.a,{show:this.state.showmodal,onHide:this.closeModal},r.a.createElement(A.a.Body,null,r.a.createElement("h3",null,"Modifica tus preferencias"),r.a.createElement("hr",null),r.a.createElement(q,{loggedInUser:this.props.loggedInUser,setTheUser:this.props.setTheUser,closeModal:this.closeModal}))))}}]),t}(n.Component),R=function e(){var t=this;Object(c.a)(this,e),this.getAdminUsers=function(){return t.service.get("/").then((function(e){return e.data}))},this.chooseAdmin=function(e){return t.service.post("/choose",{admin:e}).then((function(e){return e.data}))},this.getNotifications=function(){return t.service.get("/notifications").then((function(e){return e.data}))},this.confirmNutri=function(e){return t.service.post("/confirm",{notifId:e}).then((function(e){return e.data}))},this.getClients=function(){return t.service.get("/clients").then((function(e){return e.data}))},this.service=v.a.create({baseURL:"".concat("https://nutrihealth.herokuapp.com/api","/admin"),withCredentials:!0})},D=function(e){return r.a.createElement(j.a,{md:4},r.a.createElement(O.a,{className:"card-rusa"},r.a.createElement(O.a.Body,null,r.a.createElement(O.a.Title,null,e.sender.username),r.a.createElement(O.a.Title,null,e.text),r.a.createElement("hr",null),r.a.createElement(E.a,{className:"greenButton",as:"div",variant:"light",size:"sm",onClick:function(){return e.confirmNutri(e._id)}},"Confirmalo como cliente"))))},F=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).confirmNutri=function(e){a.adminservices.confirmNutri(e).then((function(e){return a.props.setTheUser(e)})).catch((function(e){return console.log(e)}))},a.state={notifications:""},a.adminservices=new R,a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(d.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Tus notificaciones"),0!==this.props.loggedInUser.notifications.length?r.a.createElement(p.a,null,r.a.createElement("p",null," Estos son los notificaciones que tienes:"),this.props.loggedInUser.notifications.map((function(t){return r.a.createElement(D,Object.assign({key:t._id},t,{confirmNutri:e.confirmNutri}))}))):r.a.createElement("p",null,"No tienes ninguna notificaci\xf3n por ahora")))}}]),t}(n.Component),_=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).finishAction=function(){return a.props.closeModal()},a.sendMenu=function(e,t){a.sendtobackservices.sendMenu(e,t).then((function(){return alert("Se ha enviado tu men\xfa")})).catch((function(e){return console.log(e)}))},a.handleSubmit=function(e){e.preventDefault(),a.sendMenu(a.state.deilyMenu,a.props.clientId),a.finishAction()},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState({deilyMenu:Object(T.a)({},a.state.deilyMenu,Object(k.a)({},n,r))})},a.state={deilyMenu:{monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:""}},a.sendtobackservices=new C,a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state.deilyMenu,t=e.monday,a=e.tuesday,n=e.wednesday,l=e.thursday,s=e.friday,c=e.saturday,o=e.sunday;return console.log(this.props.clientId),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null,r.a.createElement(g.a,{onSubmit:this.handleSubmit},r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Lunes"),r.a.createElement(g.a.Control,{as:"textarea",rows:"3",name:"monday",placeholder:"Introduce el men\xfa del lunes",value:t,onChange:this.handleChange,required:!0})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Martes"),r.a.createElement(g.a.Control,{as:"textarea",rows:"3",name:"tuesday",placeholder:"Introduce el men\xfa del tuesday",value:a,onChange:this.handleChange,required:!0})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Miercoles"),r.a.createElement(g.a.Control,{as:"textarea",rows:"3",name:"wednesday",placeholder:"Introduce el men\xfa del miercoles",value:n,onChange:this.handleChange,required:!0})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Jueves"),r.a.createElement(g.a.Control,{as:"textarea",rows:"3",name:"thursday",placeholder:"Introduce el men\xfa del jueves",value:l,onChange:this.handleChange,required:!0})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Viernes"),r.a.createElement(g.a.Control,{as:"textarea",rows:"3",name:"friday",placeholder:"Introduce el men\xfa del viernes",value:s,onChange:this.handleChange,required:!0})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Sabado"),r.a.createElement(g.a.Control,{as:"textarea",rows:"3",name:"saturday",placeholder:"Introduce el men\xfa del sabado",value:c,onChange:this.handleChange,required:!0})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Domingo"),r.a.createElement(g.a.Control,{as:"textarea",rows:"3",name:"sunday",placeholder:"Introduce el men\xfa del domingo",value:o,onChange:this.handleChange,required:!0})),r.a.createElement(E.a,{className:"greenButton",variant:"light",type:"submit"},"Enviar preferencias"),r.a.createElement("br",null))))}}]),t}(n.Component),H=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).closeModal=function(){return a.setState({showmodal:!1})},a.openModal=function(){return a.setState({showmodal:!0})},a.state={showmodal:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return console.log(this.props),r.a.createElement(d.a,null,r.a.createElement(E.a,{className:"greenButton",variant:"light",onClick:this.openModal},"Introduce su men\xfa"),r.a.createElement(A.a,{show:this.state.showmodal,onHide:this.closeModal},r.a.createElement(A.a.Body,null,r.a.createElement("h3",null,"Introduce su men\xfa"),r.a.createElement("hr",null),r.a.createElement(_,{loggedInUser:this.props.loggedInUser,setTheUser:this.props.setTheUser,clientId:this.props.clientId,closeModal:this.closeModal}))))}}]),t}(n.Component),z=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onClick=function(){},a.state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return console.log(this.props),r.a.createElement(j.a,{md:6},r.a.createElement(O.a,{className:"card-rusa"},r.a.createElement(O.a.Body,null,r.a.createElement(O.a.Title,null,this.props.username),r.a.createElement("hr",null),this.props.userfile?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Edad: ",this.props.userfile.age),r.a.createElement("p",null,"Altura: ",this.props.userfile.height),r.a.createElement("p",null,"Peso: ",this.props.userfile.weight),r.a.createElement("p",null,"Nivel de actividad: ",this.props.userfile.activitylevel),r.a.createElement("p",null,"Objetivo: ",this.props.userfile.goal),r.a.createElement("p",null,"Ciudad: ",this.props.userfile.city),r.a.createElement("p",null,"Intolerancias: ",this.props.userfile.intolerances),r.a.createElement("p",null,"Preferencias de comida: ",this.props.userfile.foodPreferences)):r.a.createElement("p",null,"El usuario aun no ha registrado sus preferencias"),r.a.createElement(H,{loggedInUser:this.props.loggedInUser,setTheUser:this.props.setTheUser,clientId:this.props._id}))),r.a.createElement("br",null))}}]),t}(n.Component),K=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props),r.a.createElement(d.a,null,r.a.createElement("h2",null,"Tus clientes"),0!==this.props.loggedInUser.pacients.length?r.a.createElement(p.a,null,this.props.loggedInUser.pacients.map((function(t){return r.a.createElement(z,Object.assign({key:t._id},t,{loggedInUser:e.props.loggedInUser,setTheUser:e.props.setTheUser}))}))):r.a.createElement(f.a,{animation:"border"}))}}]),t}(n.Component),J=a(58),V=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.loggedInUser.userfile;return r.a.createElement(J.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Caracteristicas"),r.a.createElement("th",null,"Valor"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Altura"),r.a.createElement("td",null,e.height)),r.a.createElement("tr",null,r.a.createElement("td",null,"Peso"),r.a.createElement("td",null,e.weight)),r.a.createElement("tr",null,r.a.createElement("td",null,"Edad"),r.a.createElement("td",null,e.age)),r.a.createElement("tr",null,r.a.createElement("td",null,"Nivel de actividad"),r.a.createElement("td",null,e.activitylevel)),r.a.createElement("tr",null,r.a.createElement("td",null,"Objetivo"),r.a.createElement("td",null,e.goal)),r.a.createElement("tr",null,r.a.createElement("td",null,"Ciudad"),r.a.createElement("td",null,e.city)),r.a.createElement("tr",null,r.a.createElement("td",null,"Edad"),r.a.createElement("td",null,e.age)),r.a.createElement("tr",null,r.a.createElement("td",null,"Intolerancias"),r.a.createElement("td",null,e.intolerances))," ",r.a.createElement("tr",null,r.a.createElement("td",null,"Comida preferida"),r.a.createElement("td",null,e.foodPreferences))))}}]),t}(n.Component),Q=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onClick=function(){return a.props.history.push("/my-menu")},a.state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null,"user"===this.props.loggedInUser.role?r.a.createElement(p.a,null,r.a.createElement(j.a,{md:7},r.a.createElement("h1",null,"Hola, ",this.props.loggedInUser.username),r.a.createElement("h4",null,"Puedes ver tu men\xfa semanal desde aqu\xed"),r.a.createElement(E.a,{loggedInUser:this.props.loggedInUser,setTheUser:this.props.setTheUser,className:"greenButton mb-5 p-2 d-flex justify-content-center",as:"div",variant:"light",size:"sm",onClick:function(){return e.onClick()}},"Consulta tu men\xfa semanal"),0!==this.props.loggedInUser.recipes.length?r.a.createElement("div",{className:"bgGrey"},r.a.createElement("h4",{className:"mt-5"},"Estas son tus recetas favoritas:")):r.a.createElement("p",null,"No tienes ninguna notificaci\xf3n por ahora")),r.a.createElement(j.a,{md:5},r.a.createElement("div",{className:"ml-5 pt-5"},this.props.loggedInUser.userfile?r.a.createElement("div",null,r.a.createElement(V,{loggedInUser:this.props.loggedInUser,setTheUser:this.props.setTheUser}),r.a.createElement(P,{loggedInUser:this.props.loggedInUser,setTheUser:this.props.setTheUser})):r.a.createElement("div",null,r.a.createElement("p",null,"Tus preferencias van aqui, introducelas"),r.a.createElement(P,{loggedInUser:this.props.loggedInUser,setTheUser:this.props.setTheUser}))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Hola ",this.props.loggedInUser.username),r.a.createElement(p.a,null,r.a.createElement(j.a,{md:6},r.a.createElement(F,{loggedInUser:this.props.loggedInUser,setTheUser:this.props.setTheUser})),r.a.createElement(j.a,{md:6},r.a.createElement(K,{loggedInUser:this.props.loggedInUser,setTheUser:this.props.setTheUser}))))))}}]),t}(n.Component),W=a(32),X=a(20),Y=(a(111),a(26)),Z=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).logout=function(){a.authservices.logout().then((function(e){a.props.setTheUser(!1)})).catch((function(e){return console.log(e)}))},a.state={showmodal:!1},a.authservices=new w,a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.loggedInUser?r.a.createElement(r.a.Fragment,null,"Hola, ",this.props.loggedInUser.username):r.a.createElement(r.a.Fragment,null,"Hola, invitad@");return r.a.createElement("div",null,this.props.loggedInUser?r.a.createElement(W.a,{className:"navigation",bg:"light",expand:"lg",variant:"light"},r.a.createElement(W.a.Brand,{as:"div"}," ",r.a.createElement(Y.b,{to:"/"},r.a.createElement("img",{className:"logo",src:"https://res.cloudinary.com/dkbpijai0/image/upload/v1584048189/Nutrihealth2_mnfafx.png",alt:"logo"}))),r.a.createElement(X.a,{activeKey:"/recipes"},r.a.createElement(X.a.Item,null,r.a.createElement(X.a.Link,{as:"div"},r.a.createElement(Y.b,{to:"/recipes"},"Buscador de recetas")))),r.a.createElement(W.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(W.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(X.a,{className:"ml-auto"},r.a.createElement(X.a.Link,{as:"div"}," ",r.a.createElement(Y.b,{to:"/profile"},"Perfil")),r.a.createElement(X.a.Link,{onClick:this.logout},"Cerrar sesi\xf3n"),r.a.createElement(X.a.Link,{as:"small"},e)))):r.a.createElement(W.a,{className:"navigation",bg:"light",expand:"lg",variant:"light"},r.a.createElement(W.a.Brand,{as:"div"}," ",r.a.createElement(Y.b,{to:"/"},"NutriHealth")),r.a.createElement(W.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(X.a.Link,{as:"div"},r.a.createElement(Y.b,{to:"/recipes"},"Buscador de recetas")),r.a.createElement(W.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(X.a,{className:"ml-auto"},r.a.createElement(X.a.Link,{as:"div"}," ",r.a.createElement(Y.b,{to:"/login"},"Inicio sesi\xf3n")),r.a.createElement(X.a.Link,{as:"div"}," ",r.a.createElement(Y.b,{to:"/signup"},"Registro")),r.a.createElement(X.a.Link,{as:"small"},e)))))}}]),t}(n.Component),$=function(e){var t=e.username,a=e._id,n=e.chooseAdmin;return r.a.createElement(j.a,{md:4},r.a.createElement(O.a,{className:"card-rusa"},r.a.createElement(O.a.Body,null,r.a.createElement(O.a.Title,null,t),r.a.createElement(O.a.Title,null,a),r.a.createElement("hr",null),r.a.createElement(E.a,{className:"greenButton",as:"div",variant:"light",size:"sm",onClick:function(){return n(a)}},"yo"))))},ee=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).chooseAdmin=function(e){a.adminservices.chooseAdmin(e).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))},a.state={adminuser:""},a.adminservices=new R,a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getAdminUsers()}},{key:"getAdminUsers",value:function(){var e=this;this.adminservices.getAdminUsers().then((function(t){return e.setState({adminuser:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return console.log(this.props.loggedInUser.userfile.nutricionist.username),r.a.createElement(d.a,null,this.props.loggedInUser.userfile.nutricionist?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Este es tu nutricionista"),r.a.createElement("p",null,this.props.loggedInUser.userfile.nutricionist.username)):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null," Estos son los nutricionistas asociados:"),this.state.adminuser.length?r.a.createElement(p.a,null,this.state.adminuser.map((function(t){return r.a.createElement($,Object.assign({key:t._id},t,{chooseAdmin:e.chooseAdmin}))}))):r.a.createElement("p",null,"CARGANDO")))}}]),t}(n.Component),te=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){console.log(this.props),console.log(this.props.loggedInUser.userfile.nutricionist.username),console.log(this.props.loggedInUser.menu.menu);var e=this.props.loggedInUser.menu.menu;return r.a.createElement(J.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Dia"),r.a.createElement("th",null,"Ma\xf1ana"),r.a.createElement("th",null,"Tarde"),r.a.createElement("th",null,"Noche"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Lunes"),r.a.createElement("td",null,e.monday),r.a.createElement("td",null,"Otto"),r.a.createElement("td",null,"@mdo")),r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",null,"Mark"),r.a.createElement("td",null,"Otto"),r.a.createElement("td",null,"@mdo")),r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",null,"Mark"),r.a.createElement("td",null,"Otto"),r.a.createElement("td",null,"@mdo"))))}}]),t}(n.Component),ae=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a.sendtoback=new C,a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return console.log(this.props),r.a.createElement(d.a,null,r.a.createElement("h1",null,"Este es tu men\xfa de \xe9sta semana"),r.a.createElement("h4",null,"Aprobado por: ",this.props.loggedInUser.userfile.nutricionist.username),r.a.createElement(te,{loggedInUser:this.props.loggedInUser,setTheUser:this.props.setTheUser}))}}]),t}(n.Component),ne=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).componentDidMount=function(){return e.fetchUser()},e.setTheUser=function(t){return e.setState({loggedInUser:t})},e.fetchUser=function(){e.authservices.loggedin().then((function(t){return e.setState({loggedInUser:t})})).catch((function(){return e.setState({loggedInUser:!1})}))},e.state={loggedInUser:null},e.authservices=new w,e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(Z,{setTheUser:this.setTheUser,loggedInUser:this.state.loggedInUser}),r.a.createElement("main",null,r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/recipes",render:function(){return r.a.createElement(y,null)}}),r.a.createElement(h.b,{exact:!0,path:"/",render:function(t){return r.a.createElement(G,Object.assign({setTheUser:e.setTheUser,loggedInUser:e.state.loggedInUser},t))}}),r.a.createElement(h.b,{path:"/search-nutri",render:function(t){return e.state.loggedInUser?r.a.createElement(ee,Object.assign({loggedInUser:e.state.loggedInUser,setTheUser:e.setTheUser},t)):r.a.createElement(h.a,{to:"/"})}}),r.a.createElement(h.b,{path:"/signup",render:function(t){return r.a.createElement(N,Object.assign({setTheUser:e.setTheUser},t))}}),r.a.createElement(h.b,{path:"/login",render:function(t){return r.a.createElement(M,Object.assign({setTheUser:e.setTheUser},t))}}),r.a.createElement(h.b,{path:"/profile",render:function(t){return e.state.loggedInUser?r.a.createElement(Q,Object.assign({loggedInUser:e.state.loggedInUser,setTheUser:e.setTheUser},t)):r.a.createElement(h.a,{to:"/"})}}),r.a.createElement(h.b,{path:"/my-menu",render:function(t){return e.state.loggedInUser?r.a.createElement(ae,Object.assign({loggedInUser:e.state.loggedInUser,setTheUser:e.state.setTheUser},t)):r.a.createElement(h.a,{to:"/"})}})),r.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Quicksand|Raleway|Sen&display=swap",rel:"stylesheet"})))}}]),t}(n.Component);s.a.render(r.a.createElement(Y.a,null,r.a.createElement(ne,null)),document.getElementById("root"))},81:function(e,t,a){e.exports=a(115)},87:function(e,t,a){},88:function(e,t,a){}},[[81,1,2]]]);
//# sourceMappingURL=main.9e7205ee.chunk.js.map